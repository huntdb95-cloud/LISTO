<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"/>
<title>Listo ‚Äî Home</title>
<meta content="Your Listo dashboard - view your account information and access all tools." name="description"/>
<link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet"/>
<link href="styles.css" rel="stylesheet"/>
</head>
<body data-page="dashboard" data-requires-auth="true">
<a class="skip-link" href="#main">Skip to content</a>
<header class="site-header">
<div class="container header-inner">
<div class="header-left">
<a href="account/account.html" class="header-avatar" id="headerAvatar" title="My Account" aria-label="My Account" hidden>
<img id="headerAvatarImage" alt="Profile" style="display: none;" />
<span id="headerAvatarInitials" class="header-avatar-initials"></span>
</a>
</div>
<a aria-label="Listo Home" class="brand" href="dashboard.html">
<img alt="Listo" class="brand-logo" src="images/logo2.png"/>
</a>

<div class="header-actions">
</div>
</div>
</header>
<div class="app-layout">
  <div id="sidebar"></div>
  <main id="main">

<section class="section">
<div class="container">
<div class="section-head">
<h1 class="page-title" data-i18n="dashboard.title">Dashboard</h1>
<p class="muted" data-i18n="dashboard.subtitle">
            Welcome back! Here's an overview of your account.
          </p>
</div>

<!-- Account Info and Facebook Feed -->
<div class="dashboard-top-grid">
<!-- Account Info Card -->
<div class="card pad account-info-card">
<h2 class="h2" data-i18n="dashboard.accountInfo">Owners Dashboard</h2>
<div class="divider"></div>
<div class="account-info-content-wrapper">
<div class="grid-2 account-info-grid">
<div class="account-info-name-section">
<div class="kv-row">
<div class="muted" data-i18n="dashboard.name">Name:</div>
<div class="kv-val" id="dashboardName">‚Äî</div>
</div>
</div>
<div class="account-info-logo-section">
<div class="profile-picture-container" style="justify-content: center;">
<div class="profile-avatar" id="dashboardAvatar" style="width: 120px; height: 120px;">
<img id="dashboardAvatarImage" alt="Profile" style="display: none;" />
<span id="dashboardAvatarInitials" class="avatar-initials"></span>
</div>
</div>
</div>
</div>
<div style="margin-top: 16px;">
<a class="btn primary" href="account/account.html" data-i18n="dashboard.editAccount">Edit Account</a>
</div>
</div>
<div class="divider" style="margin-top: 24px;"></div>
<!-- Completion Status -->
<h3 class="h3" style="margin-top: 0;" data-i18n="prequal.dashboardTitle">Completion Status</h3>
<div class="prequal-dashboard-grid">
<div class="prequal-dashboard-item">
<div class="dashboard-status">
<span aria-hidden="true" class="dot dot-off" id="dashboardW9Dot"></span>
<div style="flex: 1; min-width: 0;">
<span data-i18n="prequal.itemW9">W-9 Completed</span>
</div>
</div>
</div>
<div class="prequal-dashboard-item">
<div class="dashboard-status">
<span aria-hidden="true" class="dot dot-off" id="dashboardCoiDot"></span>
<div style="flex: 1; min-width: 0;">
<span data-i18n="prequal.itemCOIShort">Certificate of Insurance</span>
</div>
</div>
</div>
<div class="prequal-dashboard-item">
<div class="dashboard-status">
<span aria-hidden="true" class="dot dot-off" id="dashboardAgreementDot"></span>
<div style="flex: 1; min-width: 0;">
<span data-i18n="prequal.itemAgreement" class="desktop-only">Subcontractor Agreement</span>
<span class="mobile-only">Sub-agreement</span>
</div>
</div>
</div>
<div class="prequal-dashboard-item desktop-only">
<div class="dashboard-status">
<span aria-hidden="true" class="dot dot-off" id="dashboardBusinessLicenseDot"></span>
<div style="flex: 1; min-width: 0;">
<span data-i18n="prequal.itemBusinessLicense">Business License</span>
<span class="muted small" data-i18n="prequal.optional"> (Optional)</span>
</div>
</div>
</div>
<div class="prequal-dashboard-item desktop-only">
<div class="dashboard-status">
<span aria-hidden="true" class="dot dot-off" id="dashboardWorkersCompDot"></span>
<div style="flex: 1; min-width: 0;">
<span data-i18n="prequal.itemWorkersComp">Workers Compensation Exemption</span>
<span class="muted small" data-i18n="prequal.optional"> (Optional)</span>
</div>
</div>
</div>
</div>
</div>

<!-- Reminders Card -->
<div class="card pad reminders-card">
<h2 class="h2">Reminders</h2>
<div class="divider"></div>
<div id="remindersContainer">
<div class="muted">Loading reminders...</div>
</div>
</div>

<!-- Facebook Feed Card -->
<div class="card pad facebook-feed-card">
<h2 class="h2" data-i18n="dashboard.facebookFeed">News & Updates</h2>
<div class="divider"></div>
<div class="facebook-feed-container" id="facebookFeedContainer">
<!-- Facebook Page Plugin -->
<div class="fb-page" 
     id="fbPagePlugin"
     data-href="https://www.facebook.com/profile.php?id=61585220295883" 
     data-tabs="timeline" 
     data-width="500" 
     data-height="600" 
     data-small-header="false" 
     data-adapt-container-width="true" 
     data-hide-cover="false" 
     data-show-facepile="true">
<blockquote cite="https://www.facebook.com/profile.php?id=61585220295883" class="fb-xfbml-parse-ignore">
<a href="https://www.facebook.com/profile.php?id=61585220295883">Listo - Business Tools</a>
<a href="https://www.facebook.com/profile.php?id=61585220295883">Listo</a>
</blockquote>
</div>
</div>
</div>
</div>

<!-- Quick Links -->
<div class="card pad quick-links-section">
<h2 class="h2" data-i18n="dashboard.quickLinks">Quick Links</h2>
<div class="divider"></div>
<div class="dashboard-grid">
<a class="dashboard-card" href="prequal.html" style="text-decoration: none; color: inherit;">
<h3 class="h3" data-i18n="nav.prequal">Pre-Qualification</h3>
<p class="muted small" data-i18n="dashboard.prequalDesc">Complete your pre-qualification checklist</p>
</a>
<a class="dashboard-card" href="payroll/payroll.html" style="text-decoration: none; color: inherit;">
<h3 class="h3" data-i18n="nav.payroll">Payroll</h3>
<p class="muted small" data-i18n="dashboard.payrollDesc">Track employee payments</p>
</a>
<a class="dashboard-card" href="invoice/invoice.html" style="text-decoration: none; color: inherit;">
<h3 class="h3" data-i18n="nav.invoiceBuilder">Invoice Builder</h3>
<p class="muted small" data-i18n="dashboard.invoiceDesc">Create and send invoices</p>
</a>
<a class="dashboard-card" href="audit/audit.html" style="text-decoration: none; color: inherit;">
<h3 class="h3" data-i18n="nav.audit">Audit Help</h3>
<p class="muted small" data-i18n="dashboard.auditDesc">Prepare for insurance audits</p>
</a>
</div>
</div>
</div>
</section>

<footer class="site-footer">
<div class="container footer-inner">
<div>
<div class="brand footer-brand">
<img alt="Listo" class="brand-logo footer-logo" src="images/logo.png"/>
</div>
<p class="muted" data-i18n="footer.note">
            Built to help subcontractors look sharp, stay compliant, and win more work.
          </p>
</div>
<div class="footer-links">
<a href="audit/audit.html" data-i18n="footer.audit">Audit</a>
<a href="contract-scanner/contract-scanner.html" data-i18n="footer.translator">Translator</a>
<a href="invoice/invoice.html" data-i18n="footer.invoice">Invoice</a>
<a href="job-estimator/job-estimator.html" data-i18n="footer.estimator">Estimator</a>
</div>
</div>
<div class="container footer-bottom">
<span class="muted">¬© <span id="year"></span> Listo</span>
</div>
</footer>
  </main>
</div>

<!-- Mobile Bottom Navigation -->
<nav class="mobile-bottom-nav" aria-label="Mobile navigation">
  <div class="mobile-bottom-nav-items">
    <a href="dashboard.html" class="mobile-bottom-nav-item active" data-nav="home">
      <div class="mobile-bottom-nav-icon">üè†</div>
      <div class="mobile-bottom-nav-label" data-i18n="nav.dashboard">Home</div>
    </a>
    <a href="contracts/contracts.html" class="mobile-bottom-nav-item" data-nav="contracts">
      <div class="mobile-bottom-nav-icon">üìÑ</div>
      <div class="mobile-bottom-nav-label" data-i18n="nav.contracts">Contracts</div>
    </a>
    <a href="bookkeeping/bookkeeping.html" class="mobile-bottom-nav-item" data-nav="bookkeeping">
      <div class="mobile-bottom-nav-icon">üìä</div>
      <div class="mobile-bottom-nav-label" data-i18n="nav.bookkeeping">Bookkeeping</div>
    </a>
    <a href="tools/tools.html" class="mobile-bottom-nav-item" data-nav="tools">
      <div class="mobile-bottom-nav-icon">üîß</div>
      <div class="mobile-bottom-nav-label" data-i18n="nav.tools">Tools</div>
    </a>
    <a href="settings/settings.html" class="mobile-bottom-nav-item" data-nav="settings">
      <div class="mobile-bottom-nav-icon">‚öôÔ∏è</div>
      <div class="mobile-bottom-nav-label" data-i18n="nav.settings">Settings</div>
    </a>
  </div>
</nav>

<!-- Force HTTPS redirect -->
<script>
  if (location.protocol !== 'https:' && location.hostname !== 'localhost' && location.hostname !== '127.0.0.1') {
    location.replace('https:' + window.location.href.substring(window.location.protocol.length));
  }
</script>
<!-- Facebook SDK -->
<div id="fb-root"></div>
<script>
  // Load Facebook SDK with proper error handling and mobile Safari support
  // Ensure SDK loads only once globally
  (function(d, s, id) {
    // Prevent duplicate loading
    if (d.getElementById(id)) {
      console.log("[FB SDK] Facebook SDK script already exists, skipping");
      return;
    }
    
    // Check if FB is already initialized
    if (window.FB) {
      console.log("[FB SDK] Facebook SDK already initialized");
      return;
    }
    
    var js, fjs = d.getElementsByTagName(s)[0];
    js = d.createElement(s); 
    js.id = id;
    js.src = "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v24.0";
    js.async = true;
    js.defer = true;
    js.crossOrigin = "anonymous";
    
    js.onload = function() {
      console.log("[FB SDK] Facebook SDK script loaded");
      // Wait for FB object to be available (SDK may need a moment to initialize)
      let checkCount = 0;
      const maxChecks = 30; // Wait up to 3 seconds
      
      const checkFB = setInterval(function() {
        checkCount++;
        if (window.FB) {
          clearInterval(checkFB);
          console.log("[FB SDK] window.FB is available");
          // Initialize Facebook plugin after SDK loads
          // dashboard.js will handle initialization, but we can trigger it here too
          if (typeof window.initFacebookPlugin === 'function') {
            window.initFacebookPlugin();
          } else {
            // If function not loaded yet, wait a bit more (dashboard.js loads as module)
            setTimeout(function() {
              if (typeof window.initFacebookPlugin === 'function') {
                window.initFacebookPlugin();
              } else {
                console.log("[FB SDK] initFacebookPlugin will be called from dashboard.js when ready");
              }
            }, 300);
          }
        } else if (checkCount >= maxChecks) {
          clearInterval(checkFB);
          console.error("[FB SDK] window.FB not available after SDK load timeout");
        }
      }, 100);
    };
    
    js.onerror = function() {
      console.error("[FB SDK] Failed to load Facebook SDK script");
      // dashboard.js will handle fallback
    };
    
    if (fjs && fjs.parentNode) {
      fjs.parentNode.insertBefore(js, fjs);
    } else {
      // Fallback: append to head if body not ready
      (d.head || d.body || d.documentElement).appendChild(js);
    }
  }(document, 'script', 'facebook-jssdk'));
</script>

<script src="sidebar.js"></script>
<script src="scripts.js" type="module"></script>
<script type="module" src="dashboard.js"></script>
</body>
</html>

