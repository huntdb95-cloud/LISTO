<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Listo — Contracts</title>
<meta content="Manage your pre-qualification documents and active builder contracts with jobs." name="description"/>
<link href="../styles.css" rel="stylesheet"/>
<style>
  .tabs {
    display: flex;
    gap: 8px;
    margin-bottom: 24px;
    border-bottom: 2px solid rgba(0,0,0,.1);
  }
  .tab {
    padding: 12px 24px;
    background: transparent;
    border: none;
    border-bottom: 3px solid transparent;
    cursor: pointer;
    font-weight: 600;
    color: var(--muted);
    transition: all 0.2s;
  }
  .tab:hover {
    color: var(--brand-dark);
  }
  .tab.active {
    color: var(--brand-dark);
    border-bottom-color: var(--brand);
  }
  .tab-content {
    display: none;
  }
  .tab-content.active {
    display: block;
  }
  .contract-card {
    border: 1px solid var(--border);
    border-radius: var(--radius-sm);
    padding: 16px;
    margin-bottom: 16px;
  }
  .contract-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 12px;
  }
  .contract-title {
    font-size: 1.2rem;
    font-weight: 600;
    margin: 0;
  }
  .contract-actions {
    display: flex;
    gap: 8px;
  }
  .jobs-section {
    margin-top: 16px;
    padding-top: 16px;
    border-top: 1px solid var(--border);
  }
  .job-card {
    background: var(--bg);
    border: 1px solid var(--border);
    border-radius: var(--radius-sm);
    padding: 12px;
    margin-bottom: 12px;
  }
  .job-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 8px;
  }
  .job-title {
    font-weight: 600;
    margin: 0;
  }
  .job-actions {
    display: flex;
    gap: 8px;
  }
  .document-links {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    margin-top: 8px;
  }
  .document-link {
    font-size: 0.9rem;
  }
</style>
</head>
<body data-page="contracts" data-requires-auth="true">
<a class="skip-link" href="#main">Skip to content</a>
<header class="site-header">
<div class="container header-inner">
<div class="header-left">
<button aria-controls="sideNav" aria-expanded="false" class="sidebar-toggle" type="button"><span class="sr-only">Open navigation</span><span aria-hidden="true" class="hamburger"></span></button>
<a href="../account/account.html" class="header-avatar" id="headerAvatar" title="My Account" aria-label="My Account" hidden>
<img id="headerAvatarImage" alt="Profile" style="display: none;" />
<span id="headerAvatarInitials" class="header-avatar-initials"></span>
</a>
</div>
<a aria-label="Listo Home" class="brand" href="../dashboard.html">
<img alt="Listo" class="brand-logo" src="../images/logo2.png"/>
</a>

<div class="header-actions">
<button class="btn small ghost" data-i18n="auth.logout" hidden="" id="logoutBtn" type="button">
          Log out
        </button>
</div>
</div>
</header><div class="layout"><aside aria-label="Primary" class="sidebar"><div class="nav-menu sidebar-nav" id="sideNav">
<a class="sidebar-link nav-link" data-i18n="nav.dashboard" href="../dashboard.html">Home</a>
<a class="sidebar-link nav-link" data-i18n="nav.contracts" href="../contracts/contracts.html">Contracts</a>
<a class="sidebar-link nav-link" data-i18n="nav.bookkeeping" href="../bookkeeping/bookkeeping.html">Bookkeeping</a>
<div class="sidebar-submenu">
  <button class="sidebar-link sidebar-submenu-toggle" data-i18n="nav.tools">Tools</button>
  <div class="sidebar-submenu-content">
    <a class="sidebar-link sidebar-submenu-link" data-i18n="nav.audit" href="../audit/audit.html">Audit Help</a>
    <a class="sidebar-link sidebar-submenu-link" data-i18n="nav.contractScanner" href="../contract-scanner/contract-scanner.html">Contract Scanner</a>
    <a class="sidebar-link sidebar-submenu-link" data-i18n="nav.invoiceBuilder" href="../invoice/invoice.html">Invoice Builder</a>
  </div>
</div>
<a class="sidebar-link nav-link" data-i18n="nav.support" href="../support.html">Support</a>
</div></aside><main id="main">
<section class="section">
<div class="container">
<div class="section-head">
<h1 class="page-title" data-i18n="contracts.title">Contracts</h1>
<p class="muted" data-i18n="contracts.subtitle">
            Manage your pre-qualification documents and active builder contracts.
          </p>
</div>

<!-- Tabs -->
<div class="tabs">
  <button class="tab active" data-tab="prequal" data-i18n="contracts.tabPrequal">Pre-Qualification</button>
  <button class="tab" data-tab="builders" data-i18n="contracts.tabBuilders">Builder Contracts</button>
</div>

<!-- Pre-Qualification Tab Content -->
<div id="prequalTab" class="tab-content active">
<!-- Completion Dashboard -->
<div class="card pad mb completion-status-card">
<h2 class="h2" data-i18n="prequal.dashboardTitle">Completion Status</h2>
<div class="divider"></div>
<div class="prequal-dashboard-grid">
<div class="prequal-dashboard-item">
<div class="dashboard-status">
<span aria-hidden="true" class="dot dot-off" id="dashboardW9Dot"></span>
<div style="flex: 1; min-width: 0;">
<span data-i18n="prequal.itemW9">W-9 Completed</span>
</div>
</div>
</div>
<div class="prequal-dashboard-item">
<div class="dashboard-status">
<span aria-hidden="true" class="dot dot-off" id="dashboardCoiDot"></span>
<div style="flex: 1; min-width: 0;">
<span data-i18n="prequal.itemCOIShort">Certificate of Insurance</span>
</div>
</div>
</div>
<div class="prequal-dashboard-item">
<div class="dashboard-status">
<span aria-hidden="true" class="dot dot-off" id="dashboardAgreementDot"></span>
<div style="flex: 1; min-width: 0;">
<span data-i18n="prequal.itemAgreement">Subcontractor Agreement</span>
</div>
</div>
</div>
<div class="prequal-dashboard-item">
<div class="dashboard-status">
<span aria-hidden="true" class="dot dot-off" id="dashboardBusinessLicenseDot"></span>
<div style="flex: 1; min-width: 0;">
<span data-i18n="prequal.itemBusinessLicense">Business License</span>
<span class="muted small" data-i18n="prequal.optional"> (Optional)</span>
</div>
</div>
</div>
<div class="prequal-dashboard-item">
<div class="dashboard-status">
<span aria-hidden="true" class="dot dot-off" id="dashboardWorkersCompDot"></span>
<div style="flex: 1; min-width: 0;">
<span data-i18n="prequal.itemWorkersComp">Workers Compensation Exemption</span>
<span class="muted small" data-i18n="prequal.optional"> (Optional)</span>
</div>
</div>
</div>
</div>
</div>

<!-- Dashboard Grid -->
<div class="dashboard-grid">
<!-- W-9 Card -->
<div class="dashboard-card">
<div class="dashboard-card-header">
<div class="dashboard-status">
<span aria-hidden="true" class="dot dot-off" id="w9Dot"></span>
<h2 class="h2" data-i18n="prequal.itemW9Card">Fill out Your W9</h2>
</div>
</div>
<div class="divider"></div>
<p class="muted small" data-i18n="prequal.itemW9Desc">Fill and submit your W-9.</p>
<div class="dashboard-card-actions">
<a class="btn primary" href="../w9.html" data-i18n="prequal.completeW9">Complete W-9</a>
<a class="btn ghost" href="../w9.html" id="w9ViewBtn" data-i18n="prequal.viewDocument" style="display: none;">View W-9</a>
</div>
</div>

<!-- COI Card -->
<div class="dashboard-card">
<div class="dashboard-card-header">
<div class="dashboard-status">
<span aria-hidden="true" class="dot dot-off" id="coiDot"></span>
<h2 class="h2" data-i18n="prequal.itemCOICard">Upload your Certificate of Insurance</h2>
</div>
</div>
<div class="divider"></div>
<p class="muted small" id="coiMetaText" data-i18n="prequal.itemCOIDesc">Upload an active COI and set the expiration date.</p>
<div class="dashboard-card-actions">
<a class="btn primary" href="../coi.html" data-i18n="prequal.completeCOI">Complete COI</a>
<a class="btn ghost" href="#" id="coiViewBtn" data-i18n="prequal.viewDocument" target="_blank" rel="noopener" style="display: none;">View COI</a>
</div>
</div>

<!-- Agreement Card -->
<div class="dashboard-card">
<div class="dashboard-card-header">
<div class="dashboard-status">
<span aria-hidden="true" class="dot dot-off" id="agreementDot"></span>
<h2 class="h2" data-i18n="prequal.itemAgreementCard">Sign a Subcontractors Agreement</h2>
</div>
</div>
<div class="divider"></div>
<p class="muted small" data-i18n="prequal.itemAgreementDesc">Review and sign your agreement.</p>
<div class="dashboard-card-actions">
<a class="btn primary" href="../agreement.html" data-i18n="prequal.completeAgreement">Complete Agreement</a>
<a class="btn ghost" href="../agreement.html" id="agreementViewBtn" data-i18n="prequal.viewDocument" style="display: none;">View Agreement</a>
</div>
</div>

<!-- Business License Card -->
<div class="dashboard-card">
<div class="dashboard-card-header">
<div class="dashboard-status">
<span aria-hidden="true" class="dot dot-off" id="businessLicenseDot"></span>
<h2 class="h2" data-i18n="prequal.itemBusinessLicense">Business License</h2>
</div>
</div>
<div class="divider"></div>
<p class="muted small" data-i18n="prequal.itemBusinessLicenseDesc">Upload your business license if applicable.</p>
<form class="dashboard-upload-form" id="businessLicenseForm">
<label class="field">
<span class="field-label" data-i18n="prequal.uploadFile">Upload File</span>
<input accept=".pdf,.png,.jpg,.jpeg" id="businessLicenseFile" type="file"/>
<span class="muted small" data-i18n="prequal.fileHint">Accepted: PDF, PNG, JPG</span>
</label>
<button class="btn primary" id="businessLicenseUploadBtn" type="submit" data-i18n="prequal.uploadBtn">Upload</button>
<p aria-live="polite" class="muted small" id="businessLicenseMsg" role="status"></p>
<p aria-live="polite" class="form-error" id="businessLicenseErr" role="alert"></p>
</form>
<div class="dashboard-current-file" id="businessLicenseCurrent" hidden>
<div class="kv-row">
<div class="muted" data-i18n="prequal.currentFile">Current File:</div>
<div class="kv-val" id="businessLicenseFileName">—</div>
</div>
<div class="kv-row">
<div class="muted" data-i18n="prequal.uploaded">Uploaded:</div>
<div class="kv-val" id="businessLicenseUploaded">—</div>
</div>
<div class="dashboard-card-actions" style="margin-top: 12px;">
<a class="btn ghost small" data-i18n="prequal.viewDocument" href="#" id="businessLicenseViewLink" rel="noopener" target="_blank" hidden>View</a>
<a class="mini-link" data-i18n="prequal.download" href="#" id="businessLicenseDownloadLink" rel="noopener" target="_blank" hidden>Download</a>
</div>
</div>
</div>

<!-- Workers Comp Exemption Card -->
<div class="dashboard-card">
<div class="dashboard-card-header">
<div class="dashboard-status">
<span aria-hidden="true" class="dot dot-off" id="workersCompDot"></span>
<h2 class="h2" data-i18n="prequal.itemWorkersComp">Workers Compensation Exemption</h2>
</div>
</div>
<div class="divider"></div>
<p class="muted small" data-i18n="prequal.itemWorkersCompDesc">Upload your workers compensation exemption certificate if applicable.</p>
<form class="dashboard-upload-form" id="workersCompForm">
<label class="field">
<span class="field-label" data-i18n="prequal.uploadFile">Upload File</span>
<input accept=".pdf,.png,.jpg,.jpeg" id="workersCompFile" type="file"/>
<span class="muted small" data-i18n="prequal.fileHint">Accepted: PDF, PNG, JPG</span>
</label>
<button class="btn primary" id="workersCompUploadBtn" type="submit" data-i18n="prequal.uploadBtn">Upload</button>
<p aria-live="polite" class="muted small" id="workersCompMsg" role="status"></p>
<p aria-live="polite" class="form-error" id="workersCompErr" role="alert"></p>
</form>
<div class="dashboard-current-file" id="workersCompCurrent" hidden>
<div class="kv-row">
<div class="muted" data-i18n="prequal.currentFile">Current File:</div>
<div class="kv-val" id="workersCompFileName">—</div>
</div>
<div class="kv-row">
<div class="muted" data-i18n="prequal.uploaded">Uploaded:</div>
<div class="kv-val" id="workersCompUploaded">—</div>
</div>
<div class="dashboard-card-actions" style="margin-top: 12px;">
<a class="btn ghost small" data-i18n="prequal.viewDocument" href="#" id="workersCompViewLink" rel="noopener" target="_blank" hidden>View</a>
<a class="mini-link" data-i18n="prequal.download" href="#" id="workersCompDownloadLink" rel="noopener" target="_blank" hidden>Download</a>
</div>
</div>
</div>
</div>

<!-- Info Card -->
<div class="card pad mt">
<h2 class="h2" data-i18n="prequal.whatTitle">What "Pre-Qualified" means</h2>
<p class="muted" data-i18n="prequal.whatBody">
              Pre-Qualified subcontractors have a completed W-9, an active COI on file, and a signed subcontractor agreement.
              This makes it easier for general contractors to onboard and select you for work.
            </p>
<div class="divider"></div>
<h3 class="h3" data-i18n="prequal.nextTitle">Next steps</h3>
<ul class="bullets">
<li class="muted" data-i18n="prequal.next1">Complete the missing items in your checklist.</li>
<li class="muted" data-i18n="prequal.next2">Keep your COI current — update it before it expires.</li>
<li class="muted" data-i18n="prequal.next3">Upload additional documents (Business License, Workers Comp Exemption) if applicable to your business.</li>
</ul>
<div class="note">
<strong data-i18n="prequal.noteTitle">Tip:</strong>
<span class="muted" data-i18n="prequal.noteBody">You can upload a new COI anytime. The latest upload becomes your active COI.</span>
</div>
</div>
</div>

<!-- Builder Contracts Tab Content -->
<div id="buildersTab" class="tab-content">
<!-- Add/Edit Contract Form -->
<div class="card pad mb" id="contractFormCard" style="display: none;">
<h2 class="h2" id="contractFormTitle" data-i18n="contracts.addContract">Add Builder Contract</h2>
<div class="divider"></div>

<form id="contractForm">
<input type="hidden" id="contractId" />

<div class="form-group">
<label for="builderName" data-i18n="contracts.builderName">Builder Name *</label>
<input type="text" id="builderName" required placeholder="ABC Construction" />
</div>

<div class="form-grid">
<div class="form-group">
<label for="builderCoi" data-i18n="contracts.builderCoi">Builder-Specific COI</label>
<input type="file" id="builderCoi" accept=".pdf,.png,.jpg,.jpeg" />
<div class="small muted" data-i18n="contracts.fileHint">PDF, PNG, or JPG (max 10MB)</div>
<div id="builderCoiStatus" class="small muted" style="margin-top: 6px;"></div>
</div>

<div class="form-group">
<label for="subAgreement" data-i18n="contracts.subAgreement">Signed Subcontractor Agreement</label>
<input type="file" id="subAgreement" accept=".pdf,.png,.jpg,.jpeg" />
<div class="small muted" data-i18n="contracts.fileHint">PDF, PNG, or JPG (max 10MB)</div>
<div id="subAgreementStatus" class="small muted" style="margin-top: 6px;"></div>
</div>
</div>

<div class="btn-row" style="margin-top: 20px;">
<button type="submit" class="btn primary" id="saveContractBtn" data-i18n="contracts.saveContract">Save Contract</button>
<button type="button" class="btn ghost" id="cancelContractBtn" data-i18n="contracts.cancel">Cancel</button>
</div>

<div id="contractFormMsg" class="form-msg" style="margin-top: 10px;"></div>
<div id="contractFormError" class="form-error" style="margin-top: 10px;"></div>
</form>
</div>

<!-- Active Contracts -->
<div class="card pad mb">
<div class="row-between">
<h2 class="h2" data-i18n="contracts.activeContracts">Active Contracts</h2>
<button type="button" class="btn primary" id="addContractBtn" data-i18n="contracts.addContract">Add Builder Contract</button>
</div>
<div class="divider"></div>

<div id="activeContractsList">
<div class="muted" data-i18n="contracts.loading">Loading...</div>
</div>
</div>

<!-- Inactive Contracts -->
<div class="card pad">
<div class="row-between">
<h2 class="h2" data-i18n="contracts.inactiveContracts">Inactive Contracts</h2>
</div>
<div class="divider"></div>

<div id="inactiveContractsList">
<div class="muted" data-i18n="contracts.noInactiveContracts">No inactive contracts.</div>
</div>
</div>
</div>
</div>
</div>
</section>

<footer class="site-footer">
<div class="container footer-inner">
<div>
<div class="brand footer-brand">
<img alt="Listo" class="brand-logo footer-logo" src="../images/logo.png"/>
</div>
<p class="muted" data-i18n="footer.note">
            Built to help subcontractors look sharp, stay compliant, and win more work.
          </p>
</div>
<div class="footer-links">
<a data-i18n="nav.contracts" href="../contracts/contracts.html">Contracts</a>
<a data-i18n="nav.bookkeeping" href="../bookkeeping/bookkeeping.html">Bookkeeping</a>
<a data-i18n="nav.audit" href="../audit/audit.html">Insurance Audit Help</a>
<a data-i18n="nav.support" href="../support.html">Support</a>
</div>
</div>
<div class="container footer-bottom">
<span class="muted">© <span id="year"></span> Listo</span>
</div>
</footer>
</main></div>

<script src="../scripts.js" type="module"></script>
<script type="module" src="./contracts.js"></script>
</body>
</html>

